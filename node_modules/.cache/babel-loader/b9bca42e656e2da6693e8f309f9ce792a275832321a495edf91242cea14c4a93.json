{"ast":null,"code":"import Vue from 'vue';\nimport Router from 'vue-router';\nimport store from '@/store'; // Import your Vuex store\n\nVue.use(Router);\nconst routes = [{\n  path: '/',\n  component: () => import( /* webpackChunkName: \"home\" */'@/views/Home.vue')\n}, {\n  path: '/todos',\n  component: () => import( /* webpackChunkName: \"todos\" */'@/views/Todos.vue'),\n  meta: {\n    requiresAuth: true\n  } // Indicates that this route requires authentication\n}, {\n  path: '/login',\n  component: () => import( /* webpackChunkName: \"login\" */'@/components/LoginFrom.vue')\n}, {\n  path: '/registration',\n  component: () => import( /* webpackChunkName: \"registration\" */'@/components/Registration.vue')\n}, {\n  path: '*',\n  component: () => import( /* webpackChunkName: \"not-found\" */'@/views/NotFound.vue')\n}];\nconst router = new Router({\n  mode: 'history',\n  routes\n});\n\n// Add a global navigation guard\nrouter.beforeEach((to, from, next) => {\n  const isAuthenticated = store.getters['auth/isAuthenticated']; // Check if user is authenticated\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    // This route requires authentication, check if logged in\n    if (!isAuthenticated) {\n      // Not logged in, redirect to login page\n      next({\n        path: '/login'\n      });\n    } else {\n      // Logged in, proceed to the route\n      next();\n    }\n  } else {\n    // Route does not require authentication, proceed to the route\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["Vue","Router","store","use","routes","path","component","meta","requiresAuth","router","mode","beforeEach","to","from","next","isAuthenticated","getters","matched","some","record"],"sources":["/home/hp/Sites/vue/src/router.js"],"sourcesContent":["import Vue from 'vue';\nimport Router from 'vue-router';\nimport store from '@/store'; // Import your Vuex store\n\nVue.use(Router);\n\nconst routes = [\n    {\n        path: '/',\n        component: () => import(/* webpackChunkName: \"home\" */ '@/views/Home.vue')\n    },\n    {\n        path: '/todos',\n        component: () => import(/* webpackChunkName: \"todos\" */ '@/views/Todos.vue'),\n        meta: { requiresAuth: true } // Indicates that this route requires authentication\n    },\n    {\n        path: '/login',\n        component: () => import(/* webpackChunkName: \"login\" */ '@/components/LoginFrom.vue')\n    },\n    {\n        path: '/registration',\n        component: () => import(/* webpackChunkName: \"registration\" */ '@/components/Registration.vue')\n    },\n    {\n        path: '*',\n        component: () => import(/* webpackChunkName: \"not-found\" */ '@/views/NotFound.vue')\n    }\n];\n\nconst router = new Router({\n    mode: 'history',\n    routes\n});\n\n// Add a global navigation guard\nrouter.beforeEach((to, from, next) => {\n    const isAuthenticated = store.getters['auth/isAuthenticated']; // Check if user is authenticated\n    if (to.matched.some(record => record.meta.requiresAuth)) {\n        // This route requires authentication, check if logged in\n        if (!isAuthenticated) {\n            // Not logged in, redirect to login page\n            next({ path: '/login' });\n        } else {\n            // Logged in, proceed to the route\n            next();\n        }\n    } else {\n        // Route does not require authentication, proceed to the route\n        next();\n    }\n});\n\nexport default router;\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,MAAM,MAAM,YAAY;AAC/B,OAAOC,KAAK,MAAM,SAAS,CAAC,CAAC;;AAE7BF,GAAG,CAACG,GAAG,CAACF,MAAM,CAAC;AAEf,MAAMG,MAAM,GAAG,CACX;EACIC,IAAI,EAAE,GAAG;EACTC,SAAS,EAAEA,CAAA,KAAM,MAAM,EAAC,8BAA+B,kBAAkB;AAC7E,CAAC,EACD;EACID,IAAI,EAAE,QAAQ;EACdC,SAAS,EAAEA,CAAA,KAAM,MAAM,EAAC,+BAAgC,mBAAmB,CAAC;EAC5EC,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAK,CAAC,CAAC;AACjC,CAAC,EACD;EACIH,IAAI,EAAE,QAAQ;EACdC,SAAS,EAAEA,CAAA,KAAM,MAAM,EAAC,+BAAgC,4BAA4B;AACxF,CAAC,EACD;EACID,IAAI,EAAE,eAAe;EACrBC,SAAS,EAAEA,CAAA,KAAM,MAAM,EAAC,sCAAuC,+BAA+B;AAClG,CAAC,EACD;EACID,IAAI,EAAE,GAAG;EACTC,SAAS,EAAEA,CAAA,KAAM,MAAM,EAAC,mCAAoC,sBAAsB;AACtF,CAAC,CACJ;AAED,MAAMG,MAAM,GAAG,IAAIR,MAAM,CAAC;EACtBS,IAAI,EAAE,SAAS;EACfN;AACJ,CAAC,CAAC;;AAEF;AACAK,MAAM,CAACE,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAClC,MAAMC,eAAe,GAAGb,KAAK,CAACc,OAAO,CAAC,sBAAsB,CAAC,CAAC,CAAC;EAC/D,IAAIJ,EAAE,CAACK,OAAO,CAACC,IAAI,CAACC,MAAM,IAAIA,MAAM,CAACZ,IAAI,CAACC,YAAY,CAAC,EAAE;IACrD;IACA,IAAI,CAACO,eAAe,EAAE;MAClB;MACAD,IAAI,CAAC;QAAET,IAAI,EAAE;MAAS,CAAC,CAAC;IAC5B,CAAC,MAAM;MACH;MACAS,IAAI,CAAC,CAAC;IACV;EACJ,CAAC,MAAM;IACH;IACAA,IAAI,CAAC,CAAC;EACV;AACJ,CAAC,CAAC;AAEF,eAAeL,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}